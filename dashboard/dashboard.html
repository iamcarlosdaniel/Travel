<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Carlos Daniel Menchaca Arauz">
    <link rel="icon" type="image/x-icon" href="../assets/images/logo.png">
    <title>Dashboard</title>
    <!--Boostrat-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!--Bootstrap Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"> 
  </head>
<body>

  <div class="d-flex flex-column align-items-center justify-content-center vh-100 w-100" id="loading">
    <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem;" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <div class="col-lg-9 mx-auto p-3 my-2 d-none" id="dashboard">
    <main>
      <div class="row g-2">
        <div class="col-md-5 mb-2">
          <div class="card " style="height: 250px;">
            <div class="card-body  m-3">
              <h5 class="card-title text-body-emphasis">Welcome back,</h5>
              <h1 class="card-text text-body-emphasis text-truncate overflow-hidden" id="username">...</h1>
              <p class="text-muted mb-1" id="userLocation"><i class="bi bi-geo-alt-fill"></i> Santa Cruz de la Sierra</p>
              <p class="text-muted" id="userPlacesVisited"><i class="bi bi-map-fill"></i> 210 Places Visited</p>
              <a href="" class="icon-link text-decoration-none " data-bs-toggle="modal" data-bs-target="#modalProfileSettings">
              <i class="bi-gear-fill"></i>
                Settings
              </a>
            </div>
          </div>
        </div>
        <div class="col-md-7 mb-3">
          <div class="card" style="height: 250px; overflow-y: auto;">
            <div class="card-body">
              <div class="list-group list-group-horizontal">
                <a href="#" class="list-group-item list-group-item-action mb-2 d-flex align-items-center justify-content-center" aria-current="true" data-bs-toggle="modal" data-bs-target="#modalAddNewRouteDescription">
                  <i class="bi bi-plus-circle fs-5 me-2"></i>
                  Add new route
                </a>
                <a href="#" class="list-group-item list-group-item-action mb-2 d-flex align-items-center justify-content-center" aria-current="true" data-bs-toggle="offcanvas" data-bs-target="#MyRoutes" aria-controls="offcanvasExample">
                  <i class="bi bi-list-task fs-4 me-2"></i></i>
                  View my routes
                </a>
              </div>
              <div class="list-group" id="listFeedRoutes">
                <!--Informacion de la rutas del usuario-->
              </div>
            </div>
          </div>
        </div>  
      </div>
      <div class="row g-2">
        <div class="col-md-7 mb-2">
          <div id="cardCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="carousel-inner">
              <!--Contenido del Carousel-->
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#cardCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#cardCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
        </div>
        </div>
        <div class="col-md-5 mb-3">
          <div class="card position-relative">
            <video src="../assets/videos/uyuni.mp4" class="card-img w-100" alt="" style="object-fit: cover; height: 230px; filter: brightness(0.5);" autoplay loop muted>
                Tu navegador no soporta el elemento de video.
            </video>
            <div class="card-img-overlay  d-flex flex-column justify-content-center align-items-center ">
                <p class=" text-white mb-1" style="font-size: 60px;">Uyuni</p>
                <p class="fs-6 text-white">The Perfect Place to Vacation</p>
                <div class="col-9 mb-4">
                  <input type="text" class="form-control" placeholder="Search Hotels" required onclick="showToast()">
                </div>
            </div>
        </div> 
        </div>
      </div>
      <div class="row ">
        <div class="col-md-12">
          <div class="card text-bg-dark border-light">
            <img src="../assets/images/airplane.png" class="card-img w-100" alt="" style="object-fit: cover; height: 230px; filter: brightness(0.5);">
            <div class="card-img-overlay mx-md-5 mx-4 d-flex flex-column justify-content-center align-items-start">
                <p class="card-title fs-1 mb-3">Where are you <br> flying to?</p>         
                <p class="card-text mb-3"><button class="btn btn-outline-light" onclick="showToast()">Buy tickets</button></p>
            </div>
        </div>
        </div>
      </div>
    </main>
    <footer class="pt-3  text-body-secondary border-top">
      Created by Carlos Daniel &middot; &copy; 2023
    </footer>
  </div>



<!--Componentes-->
<!--Modals-->
<!-- Scrollable modal -->
<!-- User Settings -->
<div class="modal fade" tabindex="-1" id="modalProfileSettings" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title fs-5">Settings</p>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">     
        <form class="needs-validation" id="signInForm" novalidate>        
          <div class="row g-2">
            <div class="col-md-6 position-relative">
              <div class="form-floating">
                <input type="text" class="form-control" id="firstNameSettingsForm" placeholder="First name" required>
                <label for="firstNameSettingsForm">First name</label>         
              </div>
            </div>
            <div class="col-md-6 position-relative">
              <div class="form-floating">
                <input type="text" class="form-control" id="lastNameSettingsForm" placeholder="Last name" required>
                <label for="lastNameSettingsForm">Last name</label>       
              </div>
            </div>
            <div class="col-md-12 position-relative">
              <div class="form-floating">
                <input type="email" class="form-control" id="emailSettingsForm" placeholder="name@example.com" disabled>
                <label for="emailSettingsFormil">Email address</label>         
              </div>
            </div>
            <div class="col-md-12 position-relative">
              <div class="input-group has-validation">
                <span class="input-group-text" id="validationTooltipUsernamePrepend">@</span>
                <div class="form-floating">
                  <input type="text" class="form-control" id="usernameSettingsForm" aria-describedby="validationTooltipUsernamePrepend" placeholder="Username" required>
                  <label for="usernameSettingsForm" class="form-label">Username</label>
                </div>
                <div class="invalid-tooltip">
                  Please choose a unique and valid username.
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="col-12 text-center">
          <button class="btn btn-outline-danger py-2 mt-4 mb-3" type="submit" onclick="logout()"><i class="bi bi-box-arrow-left"></i> Sign out</button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-outline-primary" onclick="updateUserInformation()">Save changes</button>
      </div>
    </div>
  </div>
</div>

<!-- Add New Route -->
<div class="modal fade" tabindex="-1" id="modalAddNewRouteDescription" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title fs-5">New route</p>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">     
        <form class="needs-validation" id="signInForm" novalidate>        
          <div class="row g-2">
            <div class="col-md-12 position-relative">
              <div class="form-floating">
                <input type="text" class="form-control" id="routeNameFormAddNewRoute" placeholder="First name" required>
                <label for="firstNameSettingsForm">Route name</label>         
              </div>
            </div>
            <div class="col-md-12 position-relative">
              <div class="form-floating">
                <textarea class="form-control" placeholder="Leave a comment here" id="routeDescriptionFormAddNewRoute" style="height: 100px" required></textarea>
                <label for="floatingTextarea">Description</label>   
              </div>
            </div>
            <div class="form-floating mb-3">
              <input type="email" readonly class="form-control-plaintext" id="plannedRouteFirstModal" placeholder="name@example.com" value="@username">
              <label for="floatingPlaintextInput">Planned route by</label>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-outline-primary" data-bs-target="#modalAddNewRouteAddPlaces" data-bs-toggle="modal">Continue</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" id="modalAddNewRouteAddPlaces" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title fs-5">Add places</p>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">     
        <form class="needs-validation" id="signInForm" novalidate>        
          <div class="row g-2">
            <div class="col-md-12 position-relative mb-2">
              <div class="form-floating">
                <input type="text" class="form-control" id="firstNameSettingsForm" placeholder="First name" disabled>
                <label for="firstNameSettingsForm">Search</label>         
              </div>
            </div>
            <div class="col-md-12 position-relative" style="height: 300px; overflow-y: auto;">
                <ol class="list-group" id="listPlacesSecondModal">
                </ol>
            </div>
            <div class="form-floating mb-3">
              <input type="email" readonly class="form-control-plaintext" id="plannedRouteSecondModal" placeholder="name@example.com" value="@username">
              <label for="floatingPlaintextInput">Planned route by</label>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#modalAddNewRouteDescription">Back</button>
        <button type="button" class="btn btn-outline-primary" data-bs-target="#modalAddNewRouteItinerary" data-bs-toggle="modal">Continue</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" id="modalAddNewRouteItinerary" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title fs-5">Itinerary</p>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Hello <strong>@Carlos Daniel</strong>. We want to ensure you have the best possible experience, so we suggest organizing your tourist itinerary using the list below. This will allow us to fine-tune the details so you don't miss anything exciting and have time to enjoy to the fullest.</p>
        <ol class="list-group" style="height: 300px; overflow-y: auto;" id="listMyPlacesThridModal">
        </ol>
        <div class="form-floating mb-3">
          <input type="email" readonly class="form-control-plaintext" id="plannedRouteThirdModal" placeholder="name@example.com" value="@username">
          <label for="floatingPlaintextInput">Planned route by</label>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#modalAddNewRouteAddPlaces">Back</button>
        <button type="button" class="btn btn-outline-primary" data-bs-target="#modalAddNewRouteSummary" data-bs-toggle="modal">Continue</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" id="modalAddNewRouteSummary" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <p class="modal-title fs-5">Route summary</p>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body"> 
        <ol class="list-group list-group-numbered" id="listRouteSumaryFourthModal" style="height: 300px; overflow-y: auto;">
        </ol>       
        <div class="form-floating mb-3">
          <input type="email" readonly class="form-control-plaintext" id="plannedRouteFourthModal" placeholder="name@example.com" value="@username">
          <label for="floatingPlaintextInput">Planned route by</label>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#modalAddNewRouteItinerary">Back</button>
        <button type="button" class="btn btn-outline-primary" onclick="saveRoute()">Save route</button>
      </div>
    </div>
  </div>
</div>

<!-- Toast -->
<div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
  <div id="toastWarning" class="toast align-items-center text-bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div id="toastMessage" class="toast-body">
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>

<!-- Toast not available -->
<div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
  <div id="toastNotAvailable" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        Oops! It seems like this corner of the website is still in nap mode. We're working hard to wake it up. Come back soon!
      </div>
    </div>
  </div>
</div>

<!-- OffCanvas -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="MyRoutes" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <p class="offcanvas-title fs-4" id="offcanvasExampleLabel">My Routes</p>
    <button type="button" class="btn" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="bi bi-x-lg fs-5"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <!--Body of OffCanvas-->
    <ol class="list-group mb-4" id="listAllRoutes">
    </ol>
  </div>
</div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="routeDetails" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <div>
      <small>Name</small>
      <p class="offcanvas-title  fs-4" id="routeNameViewRouteInfo">Route Name</p>
    </div>
    <button type="button" class="btn" data-bs-toggle="offcanvas" data-bs-target="#MyRoutes" aria-controls="offcanvasExample">
      <i class="bi bi-arrow-left fs-5"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <small><i class="bi bi-clock"></i> Approximately</small>
    <p>1-2 hours</p>

      <small>Description</small>
      <p id="routeDescriptionViewRouteInfo">Lorem ipsum dolor sit amet consectetur adipisicing elit. Qui velit harum, facere fugiat id voluptas quas est, repellat modi, laudantium labore nisi. Totam facilis nulla vel optio atque repudiandae soluta?</p>

      

      <small>Created by</small>
      <p id="routeUserViewRouteInfo">@Carlos Daniel</p>

      <hr>

      <p class="mb-2">Remaining</p>
      <ol class="list-group mb-4" id="routeRemainingViewRouteInfo">
        <li class="list-group-item">
          <div class="list-group list-group-horizontal">
            <div class="list-group-item btn btn-outline-primary d-flex align-items-center justify-content-center" onmouseenter="remainingHandleHover(this, true)" onmouseleave="remainingHandleHover(this, false)">
                <i class="bi bi-plus-circle fs-5 me-2"></i>
                Complete
            </div>
            <div class="list-group-item">
                <p class="fs-5 mb-0">Lugar Uno</p>
                <p class="mb-1">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                <a href="" class="icon-link text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalProfileSettings">
                    Learn more
                </a>              
            </div>
        </div>
        </li>
        
        <li class="list-group-item">
          <div class="list-group list-group-horizontal">
            <div class="list-group-item btn btn-outline-primary d-flex align-items-center justify-content-center" onmouseenter="remainingHandleHover(this, true)" onmouseleave="remainingHandleHover(this, false)">
              <i class="bi bi-plus-circle fs-5 me-2"></i>
                Complete
            </div>
            <div class="list-group-item">
                <p class="fs-5 mb-0">Lugar Uno</p>
                <p class="mb-1">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                <a href="" class="icon-link text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalProfileSettings">
                    Learn more
                </a>              
            </div>
        </div>
        </li>
      </ol>
      
      <hr>

      <p class="mb-2">Visited</p>
      <ol class="list-group" id="routeVisitedViewRouteInfo">
        <li class="list-group-item">
          <div class="list-group list-group-horizontal">
            <div class="list-group-item btn btn-outline-danger d-flex align-items-center justify-content-center" onmouseenter="visitedHandleHover(this, true)" onmouseleave="visitedHandleHover(this, false)">
              <i class="bi bi-check2-circle fs-4 me-2"></i>
                Finalized
            </div>
            <div class="list-group-item">
                <p class="fs-5 mb-0">Lugar Uno</p>
                <p class="mb-1">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                <a href="" class="icon-link text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalProfileSettings">
                    Learn more
                </a>              
            </div>
        </div>
        </li>

        <li class="list-group-item">
          <div class="list-group list-group-horizontal">
            <div class="list-group-item btn btn-outline-danger d-flex align-items-center justify-content-center" onmouseenter="visitedHandleHover(this, true)" onmouseleave="visitedHandleHover(this, false)">
              <i class="bi bi-check2-circle fs-4 me-2"></i>
                Finalized
            </div>
            <div class="list-group-item">
                <p class="fs-5 mb-0">Lugar Uno</p>
                <p class="mb-1">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                <a href="" class="icon-link text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalProfileSettings">
                    Learn more
                </a>              
            </div>
        </div>
        </li>

        <li class="list-group-item">
          <div class="list-group list-group-horizontal">
            <div class="list-group-item btn btn-outline-danger d-flex align-items-center justify-content-center" onmouseenter="visitedHandleHover(this, true)" onmouseleave="visitedHandleHover(this, false)">
              <i class="bi bi-check2-circle fs-4 me-2"></i>
                Finalized
            </div>
            <div class="list-group-item">
                <p class="fs-5 mb-0">Lugar Uno</p>
                <p class="mb-1">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                <a href="" class="icon-link text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalProfileSettings">
                    Learn more
                </a>              
            </div>
        </div>
        </li>
      </ol>
      

  </div>
</div>

<!--Modal PlaceInformation-->
<div class="modal fade" tabindex="-1" id="modalPlaceInformation" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <div>
          <small>Name</small>
          <p class="modal-title fs-5" id="placeNameViewInfo">24 de Septiembre Square</p>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="placeDescriptionViewInfo">

        <img src="img2.jpg" alt="" class="w-100">

        <hr>

        <small>Description</small>
        <p id="">24 de Septiembre Square is the heart of Santa Cruz de la Sierra, commemorating the independence events of September 24, 1810.</p>
        
        <div class="col-12 text-center">
          <a href="#" class="btn btn-outline-primary py-2 mt-4 mb-3"><i class="bi bi-geo-alt-fill"></i> Location</a>
        </div>
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"></script>
<script src="../firebase.js"></script>
<script src="scripts/dashboard.js"></script>
<script src="scripts/userSettings.js"></script>
<script src="scripts/addNewRoute.js"></script>
<script src="scripts/carrousel.js"></script>
<script>window.onload = getPlaces()</script>
<script>window.onload = getCarrouselInformation()</script>
</body>
</html>
